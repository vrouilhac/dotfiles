function get_gitbranchname() {
  is_git="$(git rev-parse --is-inside-work-tree 2> /dev/null)"
  if [ ! -z "$is_git" ]; then
    echo "$(git rev-parse --abbrev-ref HEAD)"
  else 
    echo ""
  fi
}

function update_prompt() {
  PS1='\[\033[1;37m\]'
  PS1+='['
  PS1+='\[\033[36m\]'
  PS1+='\u'
  branch_name="$(get_gitbranchname)"
  PS1+=" \[\033[037m\]$branch_name"
  PS1+=' "'
  PS1+='\[\033[033m\]'
  PS1+='\W'
  PS1+='\[\033[037m\]'
  PS1+='"'
  PS1+=']'
  PS1+=' \[\033[0;37m\]\$ '
}

function navigate_and_update_prompt() {
  if [ -n $1 ]; then
    cd $1
  fi

  update_prompt
}

update_prompt

alias cd=navigate_and_update_prompt
